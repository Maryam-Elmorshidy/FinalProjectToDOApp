(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(l){if(l.ep)return;l.ep=!0;const i=s(l);fetch(l.href,i)}})();const _=document.querySelector(".card__header--icon"),p=document.querySelector(".container"),L=document.querySelector(".card__header--title"),n=document.querySelector(".card__input--task");document.querySelector(".second__part");const T=document.querySelector(".card__list");document.querySelector(".card__list--img");document.querySelector(".card__list--item");document.querySelectorAll(".card__list--item");const y=document.querySelector(".list"),A=document.querySelector(".card__list--lastitem--text"),r=document.querySelector(" .card__list--lastitem--middle  .All")||null,d=document.querySelector(".All-Active-Complete  .All")||null,m=document.querySelector(" .card__list--lastitem--middle  .Active")||null,v=document.querySelector(".All-Active-Complete  .Active")||null,u=document.querySelector(" .card__list--lastitem--middle  .Complete")||null,g=document.querySelector(".All-Active-Complete  .Complete")||null,E=document.querySelector(".num-tasks"),b=()=>{p.classList.toggle("dark-background"),n.classList.toggle("dark-background"),document.body.classList.toggle("darktheme"),L.classList.toggle("dark-background"),p.classList.contains("dark-background")?(_.src="../images/icon-sun.svg",localStorage.setItem("theme","dark")):(_.src="../images/icon-moon.svg",localStorage.setItem("theme","light"))},q=()=>{localStorage.getItem("theme")==="dark"?(p.classList.add("dark-background"),n.classList.add("dark-background"),document.body.classList.add("darktheme"),L.classList.add("dark-background"),_.src="../images/icon-sun.svg"):(p.classList.remove("dark-background"),n.classList.remove("dark-background"),document.body.classList.remove("darktheme"),L.classList.remove("dark-background"),_.src="../images/icon-moon.svg")},D=()=>{const e=document.querySelector(".list");let t=null;e.addEventListener("dragstart",s=>{s.target.classList.contains("card__list--item")&&(t=s.target)}),e.addEventListener("dragover",s=>{s.preventDefault()}),e.addEventListener("drop",s=>{if(s.preventDefault(),t){const a=s.target.closest(".card__list--item");a&&a!==t?e.insertBefore(t,a):e.appendChild(t)}I(),k("AllTasks",c)})},I=()=>{let e=[];document.querySelectorAll(".card__list--item").forEach(s=>{const a=parseInt(s.getAttribute("data-id"),10),l=c.find(i=>i.id===a);l&&e.push(l)}),(c.length===e.length||r.classList.contains("active__title")||d.classList.contains("active__title"))&&(c=e)},k=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},C=()=>{let e=n.value;e?(O(e),n.value=""):alert("please enter your todo "),h()};let c=[];localStorage.getItem("AllTasks")&&(c=JSON.parse(localStorage.getItem("AllTasks")));const O=e=>{let t={id:new Date().getTime(),title:e,completed:!1};c.push(t),o(c),k("AllTasks",c)},o=e=>{y.innerHTML="";let t="";e.forEach(s=>{const a=s.completed?"active__item":"",l=s.completed?"active__img":"";t+=`<div class="card__list--item " data-id="${s.id}" draggable="true">
               <div class="card__list--item--task ${a}">
                 <div class="card__list--item--img">
                  <img
                    class="card__list--img ${l}"
                    src="./images/icon-check.svg"
                  />
                 </div>
                 ${s.title}
               </div>
               <img src="./images/icon-cross.svg" class="card__list--img--X" />
             </div>`}),y.innerHTML=t,D(),r.classList.add("active__title"),m.classList.remove("active__title"),u.classList.remove("active__title")},F=e=>{let t=localStorage.getItem(e);if(t){let s=JSON.parse(t);o(s)}};F("AllTasks");const M=()=>{o(c),r.classList.add("active__title"),m.classList.remove("active__title"),u.classList.remove("active__title")},w=()=>{let e=[];c.forEach(t=>{t.completed||e.push(t),o(e)}),r.classList.remove("active__title"),m.classList.add("active__title"),u.classList.remove("active__title")},N=()=>{let e=[];c.forEach(t=>{t.completed&&e.push(t),o(e)}),r.classList.remove("active__title"),m.classList.remove("active__title"),u.classList.add("active__title")},H=()=>{o(c),d.classList.add("active__title"),v.classList.remove("active__title"),g.classList.remove("active__title")},J=()=>{let e=[];c.forEach(t=>{t.completed||e.push(t),o(e)}),d.classList.remove("active__title"),v.classList.add("active__title"),g.classList.remove("active__title")},P=()=>{let e=[];c.forEach(t=>{t.completed&&e.push(t),o(e)}),d.classList.remove("active__title"),v.classList.remove("active__title"),g.classList.add("active__title")},$=e=>{if(e.target.classList.contains("card__list--img--X")){const t=e.target.parentElement;t.remove();const s=t.getAttribute("data-id");S(s)}},S=e=>{c=c.filter(t=>t.id!=e),k("AllTasks",c)},X=e=>{if(e.target.classList.contains("card__list--img")){e.target.classList.toggle("active__img"),e.target.parentElement.parentElement.classList.toggle("active__item");let s=e.target.parentElement.parentElement.parentElement.getAttribute("data-id");x(s)}h()},x=e=>{let t=JSON.parse(e),s=c.find(a=>a.id===t);s&&(s.completed=!s.completed,k("AllTasks",c))},B=()=>{document.querySelectorAll(".card__list--item--task").forEach(t=>{if(t.classList.contains("active__item")){let s=t.parentElement;s.remove();const a=s.getAttribute("data-id");S(a)}})},h=()=>{let e=0;c.forEach(t=>{t.completed||(e+=1)}),E.innerHTML=e,c||(E.innerHTML=0)};document.addEventListener("DOMContentLoaded",()=>{_.addEventListener("click",e=>{e.preventDefault(),b()}),q(),n.addEventListener("keydown",e=>{e.key==="Enter"&&C()}),T.addEventListener("click",$),T.addEventListener("click",e=>{X(e)}),A.addEventListener("click",B),r&&r.addEventListener("click",M),m&&m.addEventListener("click",w),u&&u.addEventListener("click",N),d&&d.addEventListener("click",H),v&&v.addEventListener("click",J),g&&g.addEventListener("click",P),h()});
